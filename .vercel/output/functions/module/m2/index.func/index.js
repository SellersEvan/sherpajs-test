var L=Object.defineProperty;var A=(o,e)=>{for(var t in e)L(o,t,{get:e[t],enumerable:!0})};var i=class extends URL{constructor(e,t){super(e,t||"http://0.0"),this.pathname=this.pathname.endsWith("/")?this.pathname.slice(0,-1):this.pathname}};var u=class o{parameters={};has(e){return this.parameters[e]!=null}get(e){if(!(!this.has(e)||this.parameters[e].length==0))return this.parameters[e][0]}getAll(e){if(this.has(e))return this.parameters[e]}keys(){return Object.keys(this.parameters)}toJSON(){return{...this.parameters}}static getPathParams(e,t){let r=new o;return new i(e).pathname.split("/").filter(s=>s!="").forEach((s,l)=>{t[l].isDynamic&&r.append(t[l].name,s,!1)}),r}static getQueryParams(e){let t=new o;return new i(e).searchParams.forEach((r,s)=>{t.append(s,r)}),t}append(e,t,r=!0){this.has(e)||(this.parameters[e]=[]),this.parameters[e].push(...this.parse(t,r))}parse(e,t){return t&&e.includes(",")?e.split(",").map(r=>this.parse(r,t)).flat():e=="true"?[!0]:e=="false"?[!1]:/^\d+$/.test(e)?[parseInt(e)]:[e]}};var d=class o{headers;constructor(e){this.headers={},e&&(e instanceof Headers||e instanceof o?e.forEach((t,r)=>{this.set(r,t)}):Array.isArray(e)?e.forEach(([t,r])=>{this.append(t,r)}):Object.entries(e).forEach(([t,r])=>{Array.isArray(r)?r.forEach(s=>this.append(t,s)):this.set(t,r)}))}append(e,t){let r=e.toLowerCase();this.headers[r]=this.headers[r]?`${this.headers[r]}, ${t}`:t}has(e){return this.get(e)!=null}get(e){return this.headers[e.toLowerCase()]||null}set(e,t){this.headers[e.toLowerCase()]=t}delete(e){delete this.headers[e.toLowerCase()]}toJSON(){return{...this.headers}}toString(){return JSON.stringify(this.headers)}getSetCookie(){return Object.entries(this.headers).filter(([e])=>e.toLowerCase()==="set-cookie").flatMap(([,e])=>e.split(", "))}forEach(e,t){for(let[r,s]of Object.entries(this.headers))e.call(t,s,r,this)}keys(){return Object.keys(this.headers)[Symbol.iterator]()}values(){return Object.values(this.headers)[Symbol.iterator]()}entries(){return Object.entries(this.headers)[Symbol.iterator]()}*[Symbol.iterator](){for(let[e,t]of Object.entries(this.headers))yield[e,t]}};var n;(function(o){o.JSON="JSON",o.Text="Text",o.None="None"})(n||(n={}));var S={[n.JSON]:"application/json",[n.Text]:"text/plain",[n.None]:void 0};var x={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot \u{1FAD6}",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};var M={headers:new d,status:200},p=class o{static new(e){let t=o.defaultOptions(n.None,e);return{status:t.status,statusText:o.getStatusText(t.status),headers:t.headers,body:void 0,bodyType:n.None}}static text(e,t){let r=o.defaultOptions(n.Text,t);return{status:r.status,statusText:o.getStatusText(r.status),headers:r.headers,body:e.toString(),bodyType:n.Text}}static JSON(e,t){let r=o.defaultOptions(n.JSON,t),s=e.toJSON&&typeof e.toJSON=="function";return{status:r.status,statusText:o.getStatusText(r.status),headers:r.headers,body:s?e.toJSON():e,bodyType:n.JSON}}static redirect(e,t){let r=o.defaultOptions(n.None,t);return r.headers.has("Location")||r.headers.set("Location",e),{status:302,statusText:o.getStatusText(302),headers:r.headers,body:void 0,bodyType:n.None}}static defaultOptions(e,t){let r={...M,...t};return r.headers.has("Content-Type")||r.headers.set("Content-Type",S[e]),r}static getStatusText(e){let t=x[e];if(!t)throw new Error(`Status code "${e}" is invalid.`);return t}};var U=["GET","POST","PATCH","DELETE","PUT"],de=[...U];var h;(function(o){o.GET="GET",o.PUT="PUT",o.POST="POST",o.PATCH="PATCH",o.DELETE="DELETE"})(h||(h={}));var E;(function(o){o.Vercel="Vercel",o.local="local"})(E||(E={}));async function b(o,e,t){let r=o[t.method];if(r)try{let s=await r(t,e);return s||p.new({status:200})}catch(s){return p.text(s.message,{status:500})}else return p.new({status:405})}async function O(o,e){let t=new d(o.headers),{body:r,bodyType:s}=await H(o,t);return{url:new i(o.url).pathname,params:{path:u.getPathParams(o.url,e),query:u.getQueryParams(o.url)},method:o.method.toUpperCase(),headers:t,body:r,bodyType:s}}async function H(o,e){if(o.method.toUpperCase()==h.GET)return{body:void 0,bodyType:n.None};let t=(e.get("Content-Type")||"").toLowerCase();return t?t=="application/json"?{body:await o.json(),bodyType:n.JSON}:{body:await o.text(),bodyType:n.Text}:{body:void 0,bodyType:n.None}}var F=Response;function N(o,e){return J(o,e),new F(v(e),{headers:e.headers,status:e.status,statusText:e.statusText})}function v(o){switch(o.bodyType){case n.Text:return o.body;case n.JSON:return JSON.stringify(o.body)}}function J(o,e){if(e.headers.has("Location")){let t=o.headers.get("host"),s=`${t.toLowerCase().includes("localhost")?"http":"https"}://${t}`,l=new i(o.url,s),c=l.origin+l.pathname;c=c.endsWith("/")?c:`${c}/`,e.headers.set("Location",new i(e.headers.get("Location"),c).href)}}var g={};A(g,{GET:()=>k});var m=class o{headers;constructor(e){this.headers={},e&&(e instanceof Headers||e instanceof o?e.forEach((t,r)=>{this.set(r,t)}):Array.isArray(e)?e.forEach(([t,r])=>{this.append(t,r)}):Object.entries(e).forEach(([t,r])=>{Array.isArray(r)?r.forEach(s=>this.append(t,s)):this.set(t,r)}))}append(e,t){let r=e.toLowerCase();this.headers[r]=this.headers[r]?`${this.headers[r]}, ${t}`:t}has(e){return this.get(e)!=null}get(e){return this.headers[e.toLowerCase()]||null}set(e,t){this.headers[e.toLowerCase()]=t}delete(e){delete this.headers[e.toLowerCase()]}toJSON(){return{...this.headers}}toString(){return JSON.stringify(this.headers)}getSetCookie(){return Object.entries(this.headers).filter(([e])=>e.toLowerCase()==="set-cookie").flatMap(([,e])=>e.split(", "))}forEach(e,t){for(let[r,s]of Object.entries(this.headers))e.call(t,s,r,this)}keys(){return Object.keys(this.headers)[Symbol.iterator]()}values(){return Object.values(this.headers)[Symbol.iterator]()}entries(){return Object.entries(this.headers)[Symbol.iterator]()}*[Symbol.iterator](){for(let[e,t]of Object.entries(this.headers))yield[e,t]}};var R={JSON:"application/json",Text:"text/plain",None:void 0};var I={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot \u{1FAD6}",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};var _={headers:new m,status:200},f=class o{static new(e){let t=o.defaultOptions("None",e);return{status:t.status,statusText:o.getStatusText(t.status),headers:t.headers,body:void 0,bodyType:"None"}}static text(e,t){let r=o.defaultOptions("Text",t);return{status:r.status,statusText:o.getStatusText(r.status),headers:r.headers,body:e.toString(),bodyType:"Text"}}static JSON(e,t){let r=o.defaultOptions("JSON",t),s=e.toJSON&&typeof e.toJSON=="function";return{status:r.status,statusText:o.getStatusText(r.status),headers:r.headers,body:s?e.toJSON():e,bodyType:"JSON"}}static redirect(e,t){let r=o.defaultOptions("None",t);return r.headers.has("Location")||r.headers.set("Location",e),{status:302,statusText:o.getStatusText(302),headers:r.headers,body:void 0,bodyType:"None"}}static defaultOptions(e,t){let r={..._,...t};return r.headers.has("Content-Type")||r.headers.set("Content-Type",R[e]),r}static getStatusText(e){let t=I[e];if(!t)throw new Error(`Status code "${e}" is invalid.`);return t}};var B=["GET","POST","PATCH","DELETE","PUT"],tt=[...B],T=class{context;constructor(e){this.context=e}};var y=class{static server(e){return e}static module(e){return{...e,load:t=>new e.interface(t)}}};var P={New:y};function k(o,e){return f.JSON({request:o,context:e})}var C=P.New.module({name:"pass-primary-2",interface:T});var w=C.load({test:!0});var j=w.context,D=[{name:"module",isDynamic:!1},{name:"m2",isDynamic:!1}];async function G(o,e){let t=await O(o,D),r=await b(g,j,t);return N(t,r)}export{G as default};
// Generated by SherpaJS
